<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Local JSON</title>
</head>
<body>
    <button id="button1">Get user</button>
    <button id="button2">Get users</button>
    <br>
    <h3>User</h3>
    <div id="user"></div>
    <h3>Users</h3>
    <div id="users"></div>

    <script>
    document.getElementById('button1').addEventListener('click', loadUser)
    document.getElementById('button2').addEventListener('click', loadUsers)

    function loadUser() {
        const xhr = new XMLHttpRequest();
        xhr.open('GET', 'user.json', true)
        xhr.onload = function(){
            if (this.status == 200){
                const user = JSON.parse(this.responseText)
                const { id, name, email } = user
                const output = `<div>ID: ${id}</div>
                <div>Name: ${name}</div>
                <div>Email: ${email}</div>`
                document.getElementById('user').innerHTML = output
            }
        }
        xhr.send()
    }

    function loadUsers() {
        const xhr = new XMLHttpRequest();
        xhr.open('GET', 'users.json', true)
        xhr.onload = function(){
            if (this.status == 200){
                const users = JSON.parse(this.responseText)
                let usersList = ''
                for (const i in users) {
                    const { id, name, email } = users[i]
                    usersList += `<li><div>ID: ${id}</div>
                    <div>Name: ${name}</div>
                    <div>Email: ${email}</div></li>`
                }
                const usersOutput = `<ul> ${usersList} </ul>`
                document.getElementById('users').innerHTML = usersOutput
            }
        }
        xhr.send()
    }
    </script>
</body>
</html>