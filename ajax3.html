<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>External JSON</title>
    <style>
    .user{
        display: flex;
        background: #f4f4f4;
        padding: 10px;
        margin-bottom: 10px;
    }
    .user li {
        list-style: none
    }
    </style>
</head>
<body>
    <button id="button2">Get users</button>
    <br>
    <div id="loader"></div>
    <h3>Users</h3>
    <div id="users"></div>

    <script>
    document.getElementById('button2').addEventListener('click', loadUsers)

    function loadUsers() {
        const xhr = new XMLHttpRequest();
        xhr.open('GET', 'https://api.github.com/users', true)
        xhr.onload = function(){
            if (this.status == 200){
                const users = JSON.parse(this.responseText)
                let usersList = ''
                for (const i in users) {
                    const { id, avatar_url, login } = users[i]
                    usersList += `<div class="user"><li><img src=${avatar_url} width="70" height= "70">
                    <div>ID: ${id}</div>
                    <div>Login: ${login}</div></li></div>`
                }
                const usersOutput = `<ul> ${usersList} </ul>`
                document.getElementById('users').innerHTML = usersOutput
                document.getElementById('loader').innerHTML = ''
            }
        }
        xhr.onprogress = function(){
            document.getElementById('loader').innerHTML = `<div> Loading data ... </div>`
        }
        xhr.send()
    }

    // axios
    // superagent
    // Fetch API
    // Node HTTP
    </script>
</body>
</html>